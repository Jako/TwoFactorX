/*!
 * TwoFactorX - Two-factor authentication for MODX
 * Version: 1.1.1
 * Build date: 2025-07-09
 */
Ext.onReady(function(){MODx.addTab("modx-user-tabs",{id:"twofactorx-user-tab",title:_("twofactorx.usertab"),bodyStyle:"",items:[{html:_("twofactorx.usertab_desc"),border:!1,bodyCssClass:"panel-desc",anchor:"100%"},{xtype:"panel",cls:"main-wrapper",anchor:"100%",items:[{layout:"column",items:[{columnWidth:1,layout:"form",items:[{xtype:"panel",cls:"x-panel-btns",items:[{xtype:"button",cls:"primary-button",text:_("twofactorx.changestatus"),id:"twofactorx-btn-changestatus",handler:TwoFactorX.util.changeStatus},{xtype:"button",cls:"primary-button",text:_("twofactorx.resetsecret"),id:"twofactorx-btn-resetsecret",handler:TwoFactorX.util.resetSecret},{xtype:"button",cls:"primary-button",text:_("twofactorx.emailinstructions"),id:"twofactorx-btn-emailinstructions",handler:TwoFactorX.util.emailInstructions},{xtype:"button",cls:"primary-button",text:_("twofactorx.emailqr"),id:"twofactorx-btn-emailqr",handler:TwoFactorX.util.emailQR}],anchor:"100%"},{xtype:"panel",layout:"form",labelAlign:"left",labelSeparator:":",labelWidth:80,anchor:"100%",items:[{xtype:"field",fieldLabel:_("twofactorx.status"),id:"twofactorx-status",submitValue:!1,readOnly:!0,anchor:"100%"},{xtype:"field",fieldLabel:_("twofactorx.secret"),id:"twofactorx-secret",submitValue:!1,readOnly:!0,anchor:"100%"},{xtype:"field",fieldLabel:_("twofactorx.uri"),id:"twofactorx-uri",submitValue:!1,readOnly:!0,anchor:"100%"}]}]},{width:215,layout:"form",items:[{xtype:"panel",anchor:"100%",cls:"x-form-item",style:"padding-left: 15px",items:[{xtype:"label",cls:"x-form-item-label",text:_("twofactorx.qrcode")+":",style:"padding-top: 0",anchor:"100%"},{html:'<div><img class="twofactorx-loading" id="twofactorx-qrcode" src="" alt="'+_("twofactorx.qrcode")+'"/></div>'}]}]}]}]}],listeners:{afterlayout:function(){TwoFactorX.util.getUserSettings()}}})});